<div class="relative pointer-events-none">
    <div (click)="setNewSelectedProperty(property)"
        class="z-30 flex flex-row items-center w-2/3 p-1 my-2 ml-1 mr-2 bg-white border cursor-pointer pointer-events-auto md:w-1/3 lg:w-[22%] xl:w-1/6 rounded-xl border-primary">
        <img *ngIf="property.propertyType === 'house' || property.propertyType === 'townhouse'"
            class="bg-primary w-[60px] rounded-lg p-1" alt="House icon" src="/assets/home/properties/house-icon.svg">
        <img *ngIf="property.propertyType === 'condo' || property.propertyType === 'apartment'"
            class="bg-primary w-[60px] rounded-lg p-1" alt="Appartment icon"
            src="/assets/home/properties/appartment-icon.svg">

        <div class="flex flex-col ml-2">
            <div>{{property.address}}</div>
            <div class="px-2 rounded-xl w-fit bg-adb360">{{property.price}} €</div>
        </div>
    </div>
    <div [@openCloseDetail]="selectedProperty && selectedProperty.propertyId === property.propertyId ? 'open' : 'closed'"
        class="flex-col z-30 absolute left-[17%] top-0 w-1/6 min-h-[300px] p-1 bg-white border rounded-xl border-primary pointer-events-auto">
        <form [formGroup]="propertyForm">

            <div class="flex justify-end mt-1 mr-1">
                <button class="p-2 rounded-lg cursor-pointer bg-primary" (click)="toggleEdit()">
                    <img alt="Modifier" class="w-[30px]" src="/assets/home/properties/edit-icon.svg" />
                </button>
                <button class="p-2 ml-2 rounded-lg cursor-pointer bg-redAccent" (click)="deleteProperty()">
                    <img alt="Supprimer" class="w-[30px]" src="/assets/home/properties/delete-icon.svg" />
                </button>
            </div>

            <div class="p-1 mt-1">
                <p class="ml-2 font-bold text-[18px]">
                    Adresse
                </p>
                <input class="my-2 ml-5 text-[16px] bg-transparent rounded-lg border-primary" [class.border]="editMode"
                    [class.px-1]="editMode" formControlName="address">
                <input class="my-2 ml-5 text-[16px] bg-transparent rounded-lg border-primary" [class.border]="editMode"
                    [class.px-1]="editMode" formControlName="postalCode">
                <div class="ml-2 mr-4 border-2 border-t-0 border-l-0 border-r-0 border-b-primary"></div>
            </div>
            <div class="p-1">
                <p class="ml-2 font-bold text-[18px]">
                    Chambres
                </p>
                <input class="my-2 ml-5 text-[16px] bg-transparent rounded-lg border-primary" [class.border]="editMode"
                    [class.px-1]="editMode" formControlName="bedrooms">
                <div class="ml-2 mr-4 border-2 border-t-0 border-l-0 border-r-0 border-b-primary"></div>
            </div>
            <div class="p-1">
                <p class="ml-2 font-bold text-[18px]">
                    Salles de bains
                </p>
                <input class="my-2 ml-5 text-[16px] bg-transparent rounded-lg border-primary" [class.border]="editMode"
                    [class.px-1]="editMode" formControlName="bathrooms">
                <div class="ml-2 mr-4 border-2 border-t-0 border-l-0 border-r-0 border-b-primary"></div>
            </div>
            <div class="p-1">
                <p class="ml-2 font-bold text-[18px]">
                    Année de construction
                </p>
                <input class="my-2 ml-5 text-[16px] bg-transparent rounded-lg border-primary" [class.border]="editMode"
                    [class.px-1]="editMode" formControlName="yearBuilt">
            </div>

            <div *ngIf="editMode" class="flex justify-end mb-2 mr-4">
                <button class="px-4 py-2 text-white rounded-lg cursor-pointer bg-primary" (click)="saveProperty()">
                    Enregistrer
                </button>
            </div>
        </form>
    </div>


</div>